pipeline{
    agent any 
    environment{
        APP_NAME =  'flex'
    }
    
    stages{
        stage('Cleanup workspace'){
            steps{
                script{
                    cleanWs()

                }
            }
        }
                stage('Checkout SCM') {
                    steps{
                        script{
                            checkout scmGit(branches: [[name: '*/main']],\
                            extensions: [], \
                            userRemoteConfigs: [[url: 'https://github.com/mshow1980/Scion-Scope']])

                        }
                    }
                }
                stage('Docker login') {
                    steps{
                        script{
                            sh 'docker build -t mynewapp .'
                            withCredentials([usernameColonPassword(credentialsId: 'mshow1980', variable: 'Docker')]) {
                            }
                        }
                    }
                }
         }
        }

